<!-- modal.html - Conceptual Structure -->

<div id="yt-bulk-action-overlay">
  <div id="yt-bulk-action-modal">

    <!-- Page 1: Video List & Filter -->
    <div id="yt-bulk-action-page1">
      <div class="modal-header" id="page1-header">
        <h2>Select Videos</h2>
        <input type="search" id="yt-bulk-action-search" placeholder="Filter by title..." />
        <button class="close-button" aria-label="Close">✕</button>
      </div>

      <div id="yt-bulk-action-selection-controls">
        <label>
          <input type="checkbox" id="yt-bulk-action-select-all" checked /> Select/Deselect All Visible
        </label>
        <button id="yt-bulk-action-select-none">Select None</button>
      </div>

      <div id="yt-bulk-action-video-list">
        <!-- Video items will be populated here by JS -->
        <!-- Example Video Item Structure: -->
        <!--
        <div class="yt-bulk-action-video-item" data-video-index="0">
            <input type="checkbox" data-video-index="0" checked />
            <div class="details">
                <span class="video-title" title="Video Title Here">Video Title Here</span>
                <span class="video-meta">Duration • Upload Date</span>
            </div>
        </div>
        -->
      </div>

      <div class="modal-footer" id="page1-footer">
        <div id="yt-bulk-action-status">Initializing...</div>
        <button id="configure-button">Configure & Run →</button>
      </div>
    </div>

    <!-- Page 2: Configuration -->
    <div id="yt-bulk-action-page2" style="display: none;">
      <div class="modal-header" id="page2-header">
         <button id="back-button">← Back to List</button>
         <h2>Configure Actions</h2>
         <button class="close-button" aria-label="Close">✕</button>
      </div>

      <div class="config-scroll-area">
        <!-- Action Section -->
        <div class="config-section" id="action-config">
          <h4>Action To Perform</h4>
          <div class="radio-group">
            <label><input type="radio" name="action-type" value="add_to_queue" id="action-add_to_queue" /> Add to Queue</label>
            <label><input type="radio" name="action-type" value="add_to_new_playlist" id="action-add_to_new_playlist" /> Add to New Playlist</label>
          </div>
        </div>

        <!-- Playlist Section (Initially hidden/shown by JS) -->
        <div class="config-section" id="playlist-config" style="display: none;">
          <h4>New Playlist Options</h4>
          <label for="playlist-name-input">Playlist Name:</label>
          <input type="text" id="playlist-name-input" placeholder="Enter name..." />
          <label for="playlist-visibility-select">Visibility:</label>
          <select id="playlist-visibility-select">
             <option value="Public">Public (Anyone can search/view)</option>
             <option value="Unlisted">Unlisted (Anyone with link can view)</option>
             <option value="Private" selected>Private (Only you can view)</option>
          </select>
        </div>

        <!-- Sort Section -->
        <div class="config-section" id="sort-config">
            <h4>Processing Order</h4>
            <div class="radio-group">
                <label><input type="radio" name="sort-order" value="oldest_first" id="sort-oldest_first" checked /> Oldest First</label>
                <label><input type="radio" name="sort-order" value="newest_first" id="sort-newest_first" /> Newest First</label>
            </div>
        </div>

        <!-- Delay Section -->
        <div class="config-section" id="delay-config">
            <h4>Timing Delays (ms)</h4>
            <div id="delay-config-grid">
                <!-- Delay inputs populated by JS (example) -->
                <!--
                <div>
                    <label for="delay-after-menu-click">Menu Open Wait:</label>
                    <input type="number" id="delay-after-menu-click" value="600" min="0" step="50">
                </div>
                ... more delays ...
                 <div>
                    <label for="delay-randomness-percent">Randomness Factor (%):</label>
                    <input type="number" id="delay-randomness-percent" value="30" min="0" step="5" max="100">
                </div>
                -->
            </div>
        </div>
      </div>

      <div class="modal-footer" id="page2-footer">
        <button id="run-button">Run Actions</button>
      </div>
    </div>

  </div>
</div>